<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.17.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1" author="Eversis">
        <createTable tableName="content">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="data" type="longtext">
                <constraints nullable="false"/>
            </column>
            <column name="published" type="BIT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_on" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="modified_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="modified_on" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="2" author="Eversis">
        <createTable tableName="content_aud">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="rev" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="NULL" name="revtype" type="TINYINT"/>
            <column name="data" type="VARCHAR(255)"/>
            <column defaultValueBoolean="false" name="published" type="BIT"/>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="3" author="Eversis">
        <createTable tableName="document">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="file_name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="extension" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="url" type="VARCHAR(2048)">
                <constraints nullable="false"/>
            </column>
            <column name="folder_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_on" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="modified_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="modified_on" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="4" author="Eversis">
        <createTable tableName="document_aud">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="rev" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="NULL" name="revtype" type="TINYINT"/>
            <column name="extension" type="VARCHAR(255)"/>
            <column name="file_name" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="folder_id" type="BIGINT"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="url" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="5" author="Eversis">
        <createTable tableName="folder">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="parent_folder_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_on" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="modified_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="modified_on" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="6" author="Eversis">
        <createTable tableName="folder_aud">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="rev" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="NULL" name="revtype" type="TINYINT"/>
            <column defaultValueComputed="NULL" name="parent_folder_id" type="BIGINT"/>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="7" author="Eversis">
        <createTable tableName="page">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(2048)">
                <constraints nullable="false"/>
            </column>
            <column name="content_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="slug" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="published" type="BIT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_on" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="modified_by" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="modified_on" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="8" author="Eversis">
        <createTable tableName="page_aud">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="rev" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="NULL" name="revtype" type="TINYINT"/>
            <column defaultValueComputed="NULL" name="content_id" type="BIGINT"/>
            <column name="description" type="VARCHAR(255)"/>
            <column defaultValueBoolean="false" name="published" type="BIT"/>
            <column name="slug" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="9" author="Eversis">
        <createTable tableName="revinfo">
            <column autoIncrement="true" name="rev" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueComputed="NULL" name="revtstmp" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="10" author="Eversis">
        <addPrimaryKey columnNames="rev, id" constraintName="PRIMARY" tableName="content_aud"/>
    </changeSet>
    <changeSet id="11" author="Eversis">
        <addPrimaryKey columnNames="rev, id" constraintName="PRIMARY" tableName="document_aud"/>
    </changeSet>
    <changeSet id="12" author="Eversis">
        <addPrimaryKey columnNames="rev, id" constraintName="PRIMARY" tableName="folder_aud"/>
    </changeSet>
    <changeSet id="13" author="Eversis">
        <addPrimaryKey columnNames="rev, id" constraintName="PRIMARY" tableName="page_aud"/>
    </changeSet>
    <changeSet id="14" author="Eversis">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="page_aud"
                constraintName="FKeka5ryqgigvtp51k8vaofd1w4" onDelete="RESTRICT" onUpdate="RESTRICT"
                referencedColumnNames="rev" referencedTableName="revinfo"/>
    </changeSet>
    <changeSet id="15" author="Eversis">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="content_aud"
                constraintName="FKfdfpl2qrgndrwh3f5wlmasi8a" onDelete="RESTRICT" onUpdate="RESTRICT"
                referencedColumnNames="rev" referencedTableName="revinfo"/>
    </changeSet>
    <changeSet id="16" author="Eversis">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="document_aud"
                constraintName="FKnb1mvvdy2r5eufnxnwv45tu20" onDelete="RESTRICT" onUpdate="RESTRICT"
                referencedColumnNames="rev" referencedTableName="revinfo"/>
    </changeSet>
    <changeSet id="17" author="Eversis">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="folder_aud"
                constraintName="FKooxuwgiq2flx6hbh2mu3mco03" onDelete="RESTRICT" onUpdate="RESTRICT"
                referencedColumnNames="rev" referencedTableName="revinfo"/>
    </changeSet>

</databaseChangeLog>